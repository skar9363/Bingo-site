var Preload=function(options){this.fileArr=options.fileArr||[],this.completeCB=options.loadComplete,this.loadedCB=options.oneLoaded,this.init()};Preload.prototype={defaultOpt:{fileArr:[],completeCB:function(){}},percent:0,numLoaded:0,num:0,init:function(){this.num=this.fileArr.length,0!==this.num&&this.request()},request:function(){for(var files=this.fileArr;files.length>0;){var f=files.pop();this.loadOne(f)}},loadOne:function(file){var img=new Image,that=this,numTotal=this.num,staticURI=BINGO929?BINGO929.staticURI||"":"";file=staticURI+file,img.onload=function(){var numLoaded=that.numLoaded+=1;that.percent=parseInt(numLoaded/numTotal*100),that.loadedCB(file),numLoaded===that.num&&that.complete()},img.onerror=function(){console.log('============================Load file error!src="'+file+'"')},img.src=file},complete:function(){}};