function Bingo(){}Bingo.prototype={_lastScroll:0,_pptSelectors:"section.scroll_listen",screenWidth:1440,preloadFiles:{s1024:["imgs/ink_dots_close_1024.png","imgs/ink_dots_far_1024.png","imgs/print_blue_1024.png","imgs/print_blue_one_1024.png","imgs/print_purple_1024.png","imgs/print_red_1024.png","imgs/person_1024.png","imgs/skills_1024.png","imgs/print_yellow_1024.png","imgs/bg_1024.jpg"],s1440:["imgs/ink_dots_close_1440.png","imgs/ink_dots_far_1440.png","imgs/print_blue_1440.png","imgs/print_blue_one_1440.png","imgs/print_purple_1440.png","imgs/print_red_1440.png","imgs/person_1440.png","imgs/skills_1440.png","imgs/print_yellow_1440.png","imgs/bg_1440.jpg"],s1920:["imgs/ink_dots_close_1920.png","imgs/ink_dots_far_1920.png","imgs/print_blue_1920.png","imgs/print_blue_one_1920.png","imgs/print_purple_1920.png","imgs/print_red_1920.png","imgs/person_1920.png","imgs/skills_1920.png","imgs/print_yellow_1920.png","imgs/bg_1920.jpg"]},init:function(){this.bindEvents(),this.preload()},bindEvents:function(){var that=this,$pptSections=$(this._pptSelectors);$pptSections.each(function(){$(this).on("ppt",function(){that.elePPT($(this))})}),$(window).on("scroll",function(){that.scrollPersective(),that.lastScroll=$(this).scrollTop()}),$("nav a.scroll").on("click",function(e){var id=$(this).attr("href"),$section=$(id),top=$section.offset().top;$("html, body").animate({scrollTop:top},1e3),e.preventDefault()})},preload:function(){var $ePercent=$(".loading"),screenW=screen.availWidth,that=this,pFiles=that.preloadFiles,files=[];screenW>1440?(files=pFiles.s1920,screenW=1920):1024>=screenW?(files=pFiles.s1024,screenW=1024):(files=pFiles.s1440,screenW=1440),this.screenWidth=screenW;new Preload({fileArr:files,oneLoaded:function(){var percent=this.percent;$ePercent.css("width",percent+"%"),100===percent&&that.loadComplete()}})},loadComplete:function(){var $header=$("header"),$loadingBar=$(".loading_bar"),$logo=$(".logo"),h=80,winHeight=$(window).height(),p=h/winHeight*100+"%",that=this;$("body").addClass("s"+this.screenWidth),$header.css("height",p),$loadingBar.css("opacity",0),$logo.css("margin","-35px 0 0 -76px"),setTimeout(function(){$("body").removeClass("loading"),$header.css("height",""),$loadingBar.css("opacity",""),$logo.css("margin",""),that.initPerpective()},1500)},initPerpective:function(){$("#about_bingo").perpectiveMouse({selectors:[".draw"],maxRange:100,timeStep:25})},scrollPersective:function(){var eles=$.scrollAt(this._pptSelectors,10);if("top"!==eles[0])for(var i in eles)eles[i].trigger("ppt")},elePPT:function(box){var diffScroll=$(window).scrollTop()-(this.lastScroll||0),$eles=box.find(".ppt");$eles.each(function(){var e=$(this),t=parseFloat(e.css("top")),base=parseFloat(e.data("perpective-scroll"));e.css("top",t+diffScroll*base)})}},$(function(){var bingo=new Bingo;bingo.init()});